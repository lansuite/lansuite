<div id="map" style="width: 800px; height: 600px"></div>

<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key={$templ['guestmap']['apikey']}"
  type="text/javascript"></script>
<script type="text/javascript">

if (GBrowserIsCompatible()) {

  var map = new GMap2(document.getElementById("map"));
  map.addControl(new GSmallMapControl());
  map.addControl(new GMapTypeControl());
  map.setCenter(new GLatLng(51.17689812200107, 9.84375), 6);

  var geocoder = new GClientGeocoder();

  function showAddress(address, text) {
    geocoder.getLatLng(address, function(point) {
      if (point) {
        var marker = new GMarker(point, 'text');
        map.addOverlay(marker);
        GEvent.addListener(marker, "click", function() {
          marker.openInfoWindowHtml(text);
        });
      }
    });
  }

{$templ['guestmap']['adresses']}
}
</script>